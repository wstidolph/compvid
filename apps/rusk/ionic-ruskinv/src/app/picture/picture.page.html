<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="piclist"></ion-back-button>
      <ion-title size="small">{{picdoc.name ?? picdoc.img_basename}} </ion-title>
      <ion-button color="medium" expand="outline" type="button" (click)="addItem($event)">
       <ion-icon name="eye"></ion-icon> +Item
      </ion-button>
      <ion-button color="medium"  type="button" (click)="drawOn($event)">
        <ion-icon name="brush"></ion-icon>
       </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button  type="button" shape="round"
          color="secondary" (click)="clickFav()">
        <ion-icon name="{{isFav? 'heart-outline' : 'heart-dislike-outline'}}"></ion-icon>Fav
      </ion-button>

      <ion-button type="button" shape="round"
        color="danger" (click)="deletePicture(picdoc.id)">
        <ion-icon name="trash"></ion-icon>DEL
      </ion-button>
  </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- the primary picture -->

  <div class="piccanvas">

    <TwicImg id="thePhoto"
      (domChange)="onDomChange($event)"
      (resized)="onResize($event)"
      [src]="picdoc?.img_basename"
      transition="fade+zoom"
      ratio="none"
      mode="contain">
    </TwicImg>

    <!-- canvas for overlay markup -->
    <canvas #mycanvas></canvas>
  </div>

  <compvid-picdocform [pd]="picdoc" (abandonEdits)="abandonEdits()"></compvid-picdocform>
</ion-content>
